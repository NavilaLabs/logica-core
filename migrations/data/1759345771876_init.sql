CREATE ROLE IF NOT EXISTS logica_data_role LOGIN PASSWORD '${LOGICA_DATA_DB_PASSWORD}';


CREATE DATABASE IF NOT EXISTS logica_data AUTHORIZATION logica_data_role
    IS_TEMPLATE TRUE;
GRANT CONNECT ON DATABASE logica_data TO logica_data_role;

CREATE SCHEMA IF NOT EXISTS config AUTHORIZATION logica_data_role;
CREATE SCHEMA IF NOT EXISTS domain AUTHORIZATION logica_data_role;
CREATE SCHEMA IF NOT EXISTS aggregation AUTHORIZATION logica_data_role;
GRANT USAGE ON SCHEMA config, domain TO logica_data_role;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA config, domain TO logica_data_role;
